{% load static %}
{% static 'img/logo-v2.png' as logo_path %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Honeybee Bakehouse ‚Äî Cupcakes & Cookies</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Open Graph (absolute logo URL for previews) -->
  <meta property="og:title" content="Honeybee Bakehouse ‚Äî Cupcakes & Cookies" />
  <meta property="og:description" content="Whimsical cupcakes & cookies made from scratch in Bellevue, Nebraska." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="{{ request.scheme }}://{{ request.get_host }}{{ logo_path }}" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#d9d9d9;          /* page background (light gray) */
      --ink:#1f1b16;         /* text color */
      --order:#a3c1ad;       /* Cambridge Blue for Order Now */
      --club:#7393B3;        /* Blue Gray for Club button */
      --sky:#7AA6D6;         /* audio control button */
      --card:white;          /* card bg */
      --ink-soft:#3a332b;    /* softer body text */
      --border:rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;padding:0;background:var(--bg);color:var(--ink);
      font-family:"Quicksand", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    .wrap{max-width:960px;margin:0 auto;padding:24px}
    header{display:flex;flex-direction:column;align-items:center;gap:10px;margin-top:8px;text-align:center}
    header img{width:140px;height:auto;filter: drop-shadow(0 2px 0 rgba(0,0,0,.05));}
    .headline{font-size:clamp(28px,4.6vw,46px);line-height:1.08;margin:6px 0 0}
    .sub{margin:6px 0 0;font-size:1.08rem;color:var(--ink-soft)}
    .cta{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin:22px 0}
    .btn{
      border:none;border-radius:999px;padding:.9rem 1.25rem;font-weight:700;
      cursor:pointer;text-decoration:none;color:var(--ink);background:var(--card);
      box-shadow:0 2px 0 rgba(0,0,0,.08);
    }
    .btn:hover{transform:translateY(-1px)}
    .btn.order{background:var(--order); color:#0f1b14}
    .btn.club{background:var(--club); color:#fff}
    .btn.download{ background:#fff; border:1px solid #cbbf88 }

    .panel{
      background:var(--card);border-radius:16px;padding:18px;box-shadow:0 4px 0 var(--border);
      margin:18px 0;display:flex;flex-direction:column;gap:8px
    }
    .panel h2{margin:.2rem 0 4px 0}
    .muted{color:#6a5f54}

    /* Two-column section (Flavor Guide + Follow Along) */
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media (min-width:900px){
      .grid{grid-template-columns:2fr 1fr;align-items:stretch}
      .grid .panel{height:100%}
    }

    /* Audio control */
    .audio-controls{display:flex;justify-content:flex-end;align-items:center;gap:8px;margin-top:-8px}
    .audio-controls button{
      background:var(--sky);color:white;border:none;border-radius:999px;padding:.4rem .7rem;font-weight:700;cursor:pointer
    }

    /* Images */
    .flavor-guide{max-width:100%;height:auto;border-radius:8px;box-shadow:0 6px 24px rgba(0,0,0,.08)}

    /* Facebook button (compact with logo) */
    .btn.icon { display:inline-flex; align-items:center; gap:8px; line-height:1; padding:.75rem 1rem; }
    .btn.fb { background:#1877F2; color:#fff; }
    .btn.fb svg { width:18px; height:18px; display:block; }

    /* Lists */
    ul.clean{margin:8px 0 0 0; padding-left:1.1rem}
    ul.clean li{margin:.35rem 0}
    .kicker{font-weight:700}
    .badge{display:inline-block;background:#fff;border:1px solid #e3e3e3;border-radius:999px;padding:.35rem .7rem;font-weight:700}
    footer{margin:26px 0;text-align:center;font-size:.95rem;color:#5b5146}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="audio-controls">
      <button id="muteBtn" aria-label="Toggle music">Unmute ‚ô™</button>
    </div>

    <!-- Header -->
    <header>
      <img src="{% static 'img/logo-v2.png' %}" alt="Honeybee Bakehouse logo" loading="eager" fetchpriority="high">
      <h1 class="headline">Hey, y‚Äôall! Welcome to Honeybee Bakehouse üêù</h1>
      <p class="sub">Whimsical cupcakes & cookies made from scratch in Bellevue, Nebraska.</p>
    </header>

    <!-- Primary CTAs -->
    <div class="cta">
      <a class="btn order" href="{% url 'home' %}">Order Now</a>
      <a class="btn club" href="{% url 'rewards' %}">Join Southern Sweets Club</a>
    </div>

    <!-- About -->
    <section class="panel">
      <h2>A Taste of Home, Straight from the Hive</h2>
      <p>I‚Äôm Kelly‚Äîbaker, mama, and believer in the power of <strong>cream cheese</strong> frosting. At Honeybee Bakehouse, everything‚Äôs homemade with love (and a little sass), right here in my country kitchen. I use local ingredients, bake in small batches, and keep things simple and sweet.</p>

      <p class="kicker">Why folks love Honeybee Bakehouse:</p>
      <ul class="clean">
        <li>Cream cheese frosting (less sugar, better flavor)</li>
        <li>Seasonal and holiday flavors</li>
        <li>Optional filled cupcakes <em>‚Äî filling is FREE for military families</em></li>
        <li>Affordable pricing‚Äîno storefront overhead!</li>
        <li>Just a 3-day heads up to place your order</li>
      </ul>
    </section>

    <!-- Menu / CTA -->
    <section class="panel">
      <h2>Need a treat for a birthday, event, or just because?</h2>
      <p>üç∞ <strong>Cupcakes & Cookies</strong> &nbsp; ¬∑ &nbsp; üéâ <strong>Made for Events, Gifting & Everyday Joy</strong> &nbsp; ¬∑ &nbsp; üêù <strong>Military discount on filled cupcakes</strong></p>
      <div class="cta" style="margin-top:10px">
        <a class="btn order" href="{% url 'home' %}">Browse Menu & Order</a>
      </div>
    </section>

    <!-- Flavor Guide + Follow Along -->
    <div class="grid">
      <!-- LEFT: Flavor Guide -->
      <section class="panel">
        <h2>Flavor Guide</h2>
        <p class="muted">Browse our seasonal lineup and classics.</p>

        <img
          class="flavor-guide"
          src="{% static 'docs/flavor-guide.jpg' %}"
          alt="Honeybee Bakehouse Flavor Guide"
          loading="eager"
          fetchpriority="high"
        >

        <div style="margin-top:12px;">
          <a
            class="btn download"
            href="{% static 'docs/flavor-guide.jpg' %}"
            download="Honeybee-Flavor-Guide.jpg"
            aria-label="Download the Honeybee Bakehouse Flavor Guide as a JPG"
          >
            ‚¨áÔ∏è Download flavor guide
          </a>
        </div>
      </section>

      <!-- RIGHT: Follow Along (compact, logo button) -->
      <aside class="panel">
        <h2>Follow Along</h2>
        <p class="muted" style="margin-top:4px">Weekly flavors, behind-the-scenes, and giveaways.</p>
        <div style="margin-top:10px">
          <a class="btn icon fb" href="https://www.facebook.com/profile.php?id=61576102571602" target="_blank" rel="noopener">
            <!-- Facebook logo -->
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor">
              <path d="M22 12.06C22 6.48 17.52 2 11.94 2S2 6.48 2 12.06c0 5.01 3.66 9.16 8.44 9.94v-7.03H7.9V12.1h2.54V9.86c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.9h2.78l-.44 2.87h-2.34v7.03C18.34 21.22 22 17.07 22 12.06z"/>
            </svg>
            Open Facebook
          </a>
        </div>
      </aside>
    </div>

    <!-- Testimonials -->
    <section class="panel">
      <h2>Kind Words</h2>
      <blockquote class="muted" style="margin:0 0 8px 0">
        ‚ÄúThese cupcakes were the best I‚Äôve had‚Äîmoist, flavorful, and adorable! My daughter‚Äôs party was a hit.‚Äù ‚Äî <strong>Jessica M.</strong>
      </blockquote>
      <blockquote class="muted" style="margin:0">
        ‚ÄúThe frosting is incredible. I‚Äôm never going back to store-bought.‚Äù ‚Äî <strong>Amanda G.</strong>
      </blockquote>
    </section>

    <!-- Badge -->
    <p class="muted" style="text-align:center;margin:8px 0 0;">
      <span class="badge">üêù Made with love in overalls</span>
    </p>

    <footer>
      ¬© {% now "Y" %} Honeybee Bakehouse ‚Ä¢ Join the <strong>Southern Sweets Club</strong> for 6 free snickerdoodles
    </footer>
  </div>

  <!-- Theme music -->
  <audio id="theme" src="{% static 'audio/theme.mp3' %}" preload="auto" autoplay muted loop></audio>

  <script>
    // Audio toggle
    const audio = document.getElementById('theme');
    const btn = document.getElementById('muteBtn');

    function updateButton(){
      btn.textContent = audio.muted ? 'Unmute ‚ô™' : 'Mute ‚úñ';
    }
    window.addEventListener('DOMContentLoaded', async () => {
      try {
        audio.muted = true;                 // muted autoplay should be allowed
        await audio.play().catch(()=>{});
      } finally {
        updateButton();
      }
    });
    btn.addEventListener('click', async () => {
      try {
        if (audio.muted) {
          audio.muted = false;              // user gesture -> allowed
          audio.currentTime = audio.currentTime || 0;
          await audio.play();
        } else {
          audio.muted = true;
          audio.pause();
        }
      } catch (e) {
        audio.muted = true;
      } finally {
        updateButton();
      }
    });
  </script>
</body>
</html>
